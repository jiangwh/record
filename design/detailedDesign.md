# 详细设计是什么？
详细设计是用于指导某个功能组件的编程指导。因此详细设计中必须确定该模块或者构件的用途。
为了实现该模块或者构件的功能需要明确：
- 该模块或者构件对对接提供的接口。
- 该模块或者构件的体系结构。
- 该模块或者构件的数据、类信息。

# 详细设计需要描述那些信息？
详细设计需要描述如下四个方面：
构件设计 | 接口 | 体系架构 | 类/数据 |
---|---|---|---| 
## 类、数据设计
```
基于类的模型-->数据/类设计
```
从需求分析中获取相关类的信息。

## 体系结构设计
```
基于数据流的模型、基于类的模型-->体系结构
```
从需求分析中获取程序内部数据扭转变化信息以及类的信息，设计构件的体系结构。
## 接口
```
基于场景的模型、基于行为的模型、基于数据流的模型-->接口设计
```
通过场景模型确定接口的功能。
通过行为的模型来确定接口的个数。
通过数据流的模型来确定接口的参数。

## 构件设计
```
基于行为的模型、基于数据流的模型、基于类的模型-->构件设计
```


# 详细设计对需求分析有什么要求？
详细设计的信息来源与需求分析。需求分析需要建立需求模型。  
需求模型可以从四个方面进行描述：

基于场景的模型 | 基于类的模型 | 基于行为的模型 | 基于数据流的模型 |
---|---|---|---| 
用例图、用户故事、活动图、泳道图 | 类图、协助图|顺序图、状态图|数据流图、控制流图


# 详细设计总则
1. 内聚
* 功能内聚：一个模块完整一组且只有一组操作的返回结果。
* 分层内聚：通过包、构件以及类的设计来体现。将各模块按访问的层次结构组织，高层可以访问低层，当低层不能访问高层。
* 通信内聚：访问相同数据的所有操作都被定义到一个类中。

2. 耦合
* 内容耦合：一个模块直接访问另一个模块的内部数据；一个模块不通过正常入口转到另一模块内部；
* 共有耦合/外部耦合：当大量的模块需要使用相同的一些数据时（如一个全局变量，或者一些文件，数据库），如果这个数据发生改变，这意味着所有依赖于它的模块可能也要进行相应的修改。
* 控制耦合：如果一个模块通过传送开关、标志、名字等控制信息，明显地控制选择另一模块的功能，就是控制耦合。
* 标记耦合：一组模块通过参数表传递记录信息。
* 数据耦合：操作传递的参数过多，可以考虑使用DTO来规范传递的数据，减少不必要的数据传输。
* 例程调用耦合：一个操作调用另一个操作，这样的耦合有时候是必须的。
* 类型使用耦合：类A使用类B定义的数据类型，可以将公用的数据类型单独拿出来形成一个模块。
* 包含导入耦合：有时候也是必须的，合理设计包结构可以最小化耦合的程度。



# 详细设计基本原则
## 基于原则
* 开闭原则：对于外部具备开放性、对于内部修改具备封闭性。
* liskov替换原则：子类可以替换基类。
* 依赖倒置原则：依赖抽象类，并非具体实现。
* 接口分离原则：多个客户专用接口比一个通用接口好。

## 打包原则
*  发布复用等价性原则：当某些构件或者类为可以复用类，应该将这些类打包，统一发布。不应该对每个类独立升级。
*  共同封装原则：一同变更的类应该并在一起进行打包。
*  共同复用原则：不能一起复用的类，不要分到一个组中。
